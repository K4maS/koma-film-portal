{"version":3,"file":"static/js/598.c5467cf1.chunk.js","mappings":"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","sources":["webpack://koma-film-portal/./src/components/ul/Input/input.module.css?db61","components/ul/Input/Input.tsx","webpack://koma-film-portal/./src/components/Form/form.module.css?cfaa","components/Form/Form.tsx","webpack://koma-film-portal/./src/pages/AuthPage/authPage.module.css?5799","pages/AuthPage/AuthPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"inputBlock\":\"input_inputBlock__PXsw2\",\"input\":\"input_input__Dogvo\",\"eyeBtn\":\"input_eyeBtn__mUpdd\"};","import React, { useState } from 'react';\nimport SetClasses from '../../../util/setClasses';\nimport style from './input.module.css';\nimport { FaRegEye, FaRegEyeSlash } from 'react-icons/fa6';\n\ninterface InputProps\n\textends React.DetailedHTMLProps<\n\t\tReact.InputHTMLAttributes<HTMLInputElement>,\n\t\tHTMLInputElement\n\t> {\n\tinputType?: string;\n\tclassName?: string;\n}\n\nexport const Input: React.FC<InputProps> = ({\n\tonClick,\n\tonInput,\n\tonChange,\n\tclassName,\n\tinputType,\n\t...props\n}) => {\n\tconst [passwordPoolType, setPasswordPoolType] = useState<string | undefined>(\n\t\tinputType,\n\t);\n\n\tconst doChangeType = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\te.preventDefault();\n\t\tif (passwordPoolType === 'password') {\n\t\t\tsetPasswordPoolType('text');\n\t\t} else {\n\t\t\tsetPasswordPoolType('password');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={style.inputBlock}>\n\t\t\t<input\n\t\t\t\tclassName={SetClasses(style.input, className)}\n\t\t\t\tonClick={onClick}\n\t\t\t\tonInput={onInput}\n\t\t\t\tonChange={onChange}\n\t\t\t\ttype={passwordPoolType}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t\t{inputType === 'password' && (\n\t\t\t\t<button\n\t\t\t\t\ttype={'button'}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tdoChangeType(e);\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={style.eyeBtn}\n\t\t\t\t>\n\t\t\t\t\t{passwordPoolType === 'password' ? <FaRegEye /> : <FaRegEyeSlash />}\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"form_form__+rQnE\",\"title\":\"form_title__dEFWu\",\"link\":\"form_link__lOv90\",\"errorMessage\":\"form_errorMessage__hHwi+\"};","import React, { useEffect, useState } from 'react';\nimport { useAppDispatch, useAppSelector } from '../../hooks/storeHooks';\nimport { doAuthorization, setErrorMessage } from '../../store/slices/Users';\nimport { Button } from '../ul/Button/Button';\nimport { Input } from '../ul/Input/Input';\nimport style from './form.module.css';\nimport { authDataType } from '../../types/userTypes';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { navigPaths } from '../../navigationPaths';\n\nexport default function Form() {\n\tconst [liginData, setLoginData] = useState<authDataType>({\n\t\tlogin: '',\n\t\tpassword: '',\n\t});\n\tconst userId = useAppSelector((state) => state.users.currentUserId);\n\tconst errorMessage = useAppSelector((state) => state.users.userError);\n\tconst usersList = useAppSelector((state) => state.users.usersList);\n\tconst navigate = useNavigate();\n\n\tconst dispatch = useAppDispatch();\n\tconst getAuthorization = (e: React.ChangeEvent, data: authDataType) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tdispatch(doAuthorization(data));\n\t};\n\n\tuseEffect(() => {\n\t\tconsole.log(userId, errorMessage);\n\t\tconst currendUser = usersList.find(\n\t\t\t(elem) => elem.login === liginData.login,\n\t\t);\n\n\t\tif (userId === currendUser?.id && !errorMessage) {\n\t\t\tnavigate(navigPaths.main);\n\t\t}\n\t}, [userId]);\n\n\tuseEffect(() => {\n\t\tdispatch(setErrorMessage(null));\n\t}, []);\n\n\treturn (\n\t\t<form\n\t\t\tclassName={style.form}\n\t\t\tonSubmit={(e: React.ChangeEvent<HTMLFormElement>) =>\n\t\t\t\tgetAuthorization(e, liginData)\n\t\t\t}\n\t\t>\n\t\t\t<h1 className={style.title}>Авторизация</h1>\n\t\t\t<Input\n\t\t\t\ttype={'text'}\n\t\t\t\tplaceholder={'Логин'}\n\t\t\t\tonInput={(e) => {\n\t\t\t\t\tconst value = (e.target as HTMLInputElement).value;\n\t\t\t\t\tsetLoginData((liginData) => ({ ...liginData, login: value }));\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<Input\n\t\t\t\tinputType={'password'}\n\t\t\t\tplaceholder={'Пароль'}\n\t\t\t\tonInput={(e) => {\n\t\t\t\t\tconst value = (e.target as HTMLInputElement).value;\n\t\t\t\t\tsetLoginData((liginData) => ({ ...liginData, password: value }));\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t<Button title={'Войти'} />\n\t\t\t<Link className={style.link} to={navigPaths.registriation}>\n\t\t\t\tЗарегистрироваться\n\t\t\t</Link>\n\t\t\t<p className={style.errorMessage}>{errorMessage}</p>\n\t\t</form>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"authPage_container__ae0vJ\"};","import React from 'react';\nimport Form from '../../components/Form/Form';\nimport SetClasses from '../../util/setClasses';\nimport style from './authPage.module.css';\n\nexport default function AuthPage() {\n\treturn (\n\t\t<div className={SetClasses('container', style.container)}>\n\t\t\t<Form />\n\t\t</div>\n\t);\n}\n"],"names":["Input","_ref","onClick","onInput","onChange","className","inputType","props","passwordPoolType","setPasswordPoolType","useState","_jsxs","style","children","_jsx","SetClasses","type","e","preventDefault","doChangeType","FaRegEye","FaRegEyeSlash","Form","liginData","setLoginData","login","password","userId","useAppSelector","state","users","currentUserId","errorMessage","userError","usersList","navigate","useNavigate","dispatch","useAppDispatch","useEffect","console","log","currendUser","find","elem","id","navigPaths","main","setErrorMessage","form","onSubmit","getAuthorization","data","stopPropagation","doAuthorization","title","placeholder","value","target","Button","Link","link","to","registriation","AuthPage","container"],"sourceRoot":""}