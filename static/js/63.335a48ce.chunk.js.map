{"version":3,"file":"static/js/63.335a48ce.chunk.js","mappings":"uJACA,QAA6B,0BAA7B,EAA+D,qBAA/D,EAA6F,sB,sBCatF,MAAMA,EAA8BC,IAOpC,IAPqC,QAC3CC,EAAO,QACPC,EAAO,SACPC,EAAQ,UACRC,EAAS,UACTC,KACGC,GACHN,EACA,MAAOO,EAAkBC,IAAuBC,EAAAA,EAAAA,UAC/CJ,GAYD,OACCK,EAAAA,EAAAA,MAAA,OAAKN,UAAWO,EAAiBC,SAAA,EAChCC,EAAAA,EAAAA,KAAA,SACCT,WAAWU,EAAAA,EAAAA,GAAWH,EAAaP,GACnCH,QAASA,EACTC,QAASA,EACTC,SAAUA,EACVY,KAAMR,KACFD,IAEU,aAAdD,IACAQ,EAAAA,EAAAA,KAAA,UACCE,KAAM,SACNd,QAAUe,IAtBQA,KACrBA,EAAEC,iBAEDT,EADwB,aAArBD,EACiB,OAEA,WACrB,EAiBIW,CAAaF,EAAE,EAEhBZ,UAAWO,EAAaC,SAEF,aAArBL,GAAkCM,EAAAA,EAAAA,KAACM,EAAAA,IAAQ,KAAMN,EAAAA,EAAAA,KAACO,EAAAA,IAAa,QAG7D,C,6FCvDR,SAAgB,KAAO,+BAA+B,MAAQ,gCAAgC,KAAO,+BAA+B,aAAe,wC,+BCapI,SAASC,IACvB,MAAOC,EAAWC,IAAgBd,EAAAA,EAAAA,UAAuB,CACxDe,MAAO,GACPC,SAAU,MAEJC,EAAmBC,IAAwBlB,EAAAA,EAAAA,UAAiB,KAC5DmB,EAAgBC,IAAqBpB,EAAAA,EAAAA,UAAiB,IAEvDqB,GAAeC,EAAAA,EAAAA,IAAgBC,GAAUA,EAAMC,MAAMC,YAErDC,GAAYJ,EAAAA,EAAAA,IAAgBC,GAAUA,EAAMC,MAAME,YAClDC,GAAWC,EAAAA,EAAAA,MAEXC,GAAWC,EAAAA,EAAAA,KAyBjB,OAfAC,EAAAA,EAAAA,YAAU,KACTF,GAASG,EAAAA,EAAAA,GAAgB,MAAM,GAC7B,KAEHD,EAAAA,EAAAA,YAAU,KACeL,EAAUO,MAChCC,GACAA,EAAKnB,QAAUF,EAAUE,OAASmB,EAAKlB,WAAaH,EAAUG,aAGxCK,GACvBM,EAASQ,EAAAA,EAAWpB,MACrB,GACE,CAACW,EAAWL,EAAcJ,KAG5BhB,EAAAA,EAAAA,MAAA,QACCN,UAAWO,EAAMkC,KACjBC,SAAW9B,IA1BW+B,EAAC/B,EAAsBgC,KAC1CpB,IAAmBN,EAAUG,WAChCT,EAAEC,iBACFD,EAAEiC,kBACFX,GAASY,EAAAA,EAAAA,IAAWF,IACrB,EAsBED,CAAgB/B,EAAGM,EAAU,EAC5BV,SAAA,EAEFC,EAAAA,EAAAA,KAAA,MAAIT,UAAWO,EAAMwC,MAAMvC,SAAC,wEAE5BC,EAAAA,EAAAA,KAACd,EAAAA,EAAK,CACLM,UAAW,OACX+C,YAAa,iCACblD,QAAUc,IACT,MAAMqC,EAASrC,EAAEsC,OAA4BD,MAC7C9B,GAAcD,IAAS,IAAWA,EAAWE,MAAO6B,KAAS,KAG/DxC,EAAAA,EAAAA,KAACd,EAAAA,EAAK,CACLM,UAAW,WACX+C,YAAa,uCACblD,QAAUc,IACT,MAAMqC,EAASrC,EAAEsC,OAA4BD,MAC7C9B,GAAcD,IAAS,IAAWA,EAAWG,SAAU4B,KAAS,KAGlExC,EAAAA,EAAAA,KAACd,EAAAA,EAAK,CACLM,UAAW,WACX+C,YAAa,8FACblD,QAAUc,IACT,MAAMqC,EAASrC,EAAEsC,OAA4BD,MAC7CxB,EAAkBwB,GACdA,IAAU/B,EAAUG,SACvBE,EAAqB,4GAErBA,EAAqB,GACtB,KAIFd,EAAAA,EAAAA,KAAC0C,EAAAA,EAAM,CAACJ,MAAO,kHAEftC,EAAAA,EAAAA,KAAA,KAAGT,UAAWO,EAAMmB,aAAalB,SAAEc,KACnCb,EAAAA,EAAAA,KAAA,KAAGT,UAAWO,EAAMmB,aAAalB,SAAEkB,MAGtC,C,aChGA,SAAgB,UAAY,qCCIb,SAAS0B,IACvB,OACC3C,EAAAA,EAAAA,KAAA4C,EAAAA,SAAA,CAAA7C,UACCC,EAAAA,EAAAA,KAAA,OAAKT,WAAWU,EAAAA,EAAAA,GAAW,YAAaH,EAAM+C,WAAW9C,UACxDC,EAAAA,EAAAA,KAACQ,EAAgB,OAIrB,C","sources":["webpack://koma-film-portal/./src/components/ul/Input/input.module.css?db61","components/ul/Input/Input.tsx","webpack://koma-film-portal/./src/components/RegistrationForm/registrationForm.module.css?68fd","components/RegistrationForm/RegistrationForm.tsx","webpack://koma-film-portal/./src/pages/RegistrationPage/registrationPage.module.css?d744","pages/RegistrationPage/RegistrationPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"inputBlock\":\"input_inputBlock__PXsw2\",\"input\":\"input_input__Dogvo\",\"eyeBtn\":\"input_eyeBtn__mUpdd\"};","import React, { useState } from 'react';\nimport SetClasses from '../../../util/setClasses';\nimport style from './input.module.css';\nimport { FaRegEye, FaRegEyeSlash } from 'react-icons/fa6';\n\ninterface InputProps\n\textends React.DetailedHTMLProps<\n\t\tReact.InputHTMLAttributes<HTMLInputElement>,\n\t\tHTMLInputElement\n\t> {\n\tinputType?: string;\n\tclassName?: string;\n}\n\nexport const Input: React.FC<InputProps> = ({\n\tonClick,\n\tonInput,\n\tonChange,\n\tclassName,\n\tinputType,\n\t...props\n}) => {\n\tconst [passwordPoolType, setPasswordPoolType] = useState<string | undefined>(\n\t\tinputType,\n\t);\n\n\tconst doChangeType = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\te.preventDefault();\n\t\tif (passwordPoolType === 'password') {\n\t\t\tsetPasswordPoolType('text');\n\t\t} else {\n\t\t\tsetPasswordPoolType('password');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={style.inputBlock}>\n\t\t\t<input\n\t\t\t\tclassName={SetClasses(style.input, className)}\n\t\t\t\tonClick={onClick}\n\t\t\t\tonInput={onInput}\n\t\t\t\tonChange={onChange}\n\t\t\t\ttype={passwordPoolType}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t\t{inputType === 'password' && (\n\t\t\t\t<button\n\t\t\t\t\ttype={'button'}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tdoChangeType(e);\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={style.eyeBtn}\n\t\t\t\t>\n\t\t\t\t\t{passwordPoolType === 'password' ? <FaRegEye /> : <FaRegEyeSlash />}\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"registrationForm_form__Irbu+\",\"title\":\"registrationForm_title__s6pcr\",\"link\":\"registrationForm_link__g3FnK\",\"errorMessage\":\"registrationForm_errorMessage__tKtBI\"};","import React, { useEffect, useState } from 'react';\nimport { useAppDispatch, useAppSelector } from '../../hooks/storeHooks';\nimport {\n\tcreateUser,\n\tdoAuthorization,\n\tsetErrorMessage,\n} from '../../store/slices/Users';\nimport { Button } from '../ul/Button/Button';\nimport { Input } from '../ul/Input/Input';\nimport style from './registrationForm.module.css';\nimport { authDataType } from '../../types/userTypes';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { navigPaths } from '../../navigationPaths';\n\nexport default function RegistrationForm() {\n\tconst [loginData, setLoginData] = useState<authDataType>({\n\t\tlogin: '',\n\t\tpassword: '',\n\t});\n\tconst [inputErrorMessage, setInputErrorMessage] = useState<string>('');\n\tconst [repeatPassword, setRepeatPassword] = useState<string>('');\n\n\tconst errorMessage = useAppSelector((state) => state.users.userError);\n\n\tconst usersList = useAppSelector((state) => state.users.usersList);\n\tconst navigate = useNavigate();\n\n\tconst dispatch = useAppDispatch();\n\n\tconst getRegistration = (e: React.ChangeEvent, data: authDataType) => {\n\t\tif (repeatPassword === loginData.password) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tdispatch(createUser(data));\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch(setErrorMessage(null));\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst registratedUser = usersList.find(\n\t\t\t(elem) =>\n\t\t\t\telem.login === loginData.login && elem.password === loginData.password,\n\t\t);\n\n\t\tif (registratedUser && !errorMessage) {\n\t\t\tnavigate(navigPaths.login);\n\t\t}\n\t}, [usersList, errorMessage, inputErrorMessage]);\n\n\treturn (\n\t\t<form\n\t\t\tclassName={style.form}\n\t\t\tonSubmit={(e: React.ChangeEvent<HTMLFormElement>) => {\n\t\t\t\tgetRegistration(e, loginData);\n\t\t\t}}\n\t\t>\n\t\t\t<h1 className={style.title}>Регистрация</h1>\n\n\t\t\t<Input\n\t\t\t\tinputType={'text'}\n\t\t\t\tplaceholder={'Логин'}\n\t\t\t\tonInput={(e) => {\n\t\t\t\t\tconst value = (e.target as HTMLInputElement).value;\n\t\t\t\t\tsetLoginData((loginData) => ({ ...loginData, login: value }));\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<Input\n\t\t\t\tinputType={'password'}\n\t\t\t\tplaceholder={'Пароль'}\n\t\t\t\tonInput={(e) => {\n\t\t\t\t\tconst value = (e.target as HTMLInputElement).value;\n\t\t\t\t\tsetLoginData((loginData) => ({ ...loginData, password: value }));\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<Input\n\t\t\t\tinputType={'password'}\n\t\t\t\tplaceholder={'Повторить пароль'}\n\t\t\t\tonInput={(e) => {\n\t\t\t\t\tconst value = (e.target as HTMLInputElement).value;\n\t\t\t\t\tsetRepeatPassword(value);\n\t\t\t\t\tif (value !== loginData.password) {\n\t\t\t\t\t\tsetInputErrorMessage('Пароли не совпадают');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetInputErrorMessage('');\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t<Button title={'Зарегистрироваться'} />\n\n\t\t\t<p className={style.errorMessage}>{inputErrorMessage}</p>\n\t\t\t<p className={style.errorMessage}>{errorMessage}</p>\n\t\t</form>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"registrationPage_container__637Nw\"};","import React from 'react';\nimport RegistrationForm from '../../components/RegistrationForm/RegistrationForm';\nimport SetClasses from '../../util/setClasses';\nimport style from './registrationPage.module.css';\n\nexport default function RegistrationPage() {\n\treturn (\n\t\t<>\n\t\t\t<div className={SetClasses('container', style.container)}>\n\t\t\t\t<RegistrationForm />\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"],"names":["Input","_ref","onClick","onInput","onChange","className","inputType","props","passwordPoolType","setPasswordPoolType","useState","_jsxs","style","children","_jsx","SetClasses","type","e","preventDefault","doChangeType","FaRegEye","FaRegEyeSlash","RegistrationForm","loginData","setLoginData","login","password","inputErrorMessage","setInputErrorMessage","repeatPassword","setRepeatPassword","errorMessage","useAppSelector","state","users","userError","usersList","navigate","useNavigate","dispatch","useAppDispatch","useEffect","setErrorMessage","find","elem","navigPaths","form","onSubmit","getRegistration","data","stopPropagation","createUser","title","placeholder","value","target","Button","RegistrationPage","_Fragment","container"],"sourceRoot":""}