{"version":3,"file":"static/js/962.b5fed0e1.chunk.js","mappings":"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","sources":["webpack://koma-film-portal/./src/components/ErrorBlock/errorBlock.module.css?f3a9","components/ErrorBlock/ErrorBlock.tsx","webpack://koma-film-portal/./src/components/MessageBlock/messageBlock.module.css?2fed","components/MessageBlock/MessageBlock.tsx","webpack://koma-film-portal/./src/components/FilmICard/filmCard.module.css?62a7","components/FilmICard/FilmICard.tsx","pages/FilmPage/FilmPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"block\":\"errorBlock_block__NXWXp\",\"text\":\"errorBlock_text__2ZJ1q\"};","import React from 'react';\nimport MessageBlock from '../MessageBlock/MessageBlock';\nimport { LogoButton } from '../ul/LogoButton/LogoButton';\nimport style from './errorBlock.module.css';\nimport { AiOutlineReload } from 'react-icons/ai';\n\ninterface ErrorBlockType\n\textends React.DetailedHTMLProps<\n\t\tReact.HTMLAttributes<HTMLDivElement>,\n\t\tHTMLDivElement\n\t> {\n\ttext: string;\n}\n\nexport const ErrorBlock: React.FC<ErrorBlockType> = ({ text }) => {\n\treturn (\n\t\t<MessageBlock className={style.block} title={text}>\n\t\t\t<LogoButton\n\t\t\t\tonClick={() => {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<AiOutlineReload /> Перезагрузить\n\t\t\t</LogoButton>\n\t\t</MessageBlock>\n\t);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"block\":\"messageBlock_block__fJS03\",\"title\":\"messageBlock_title__+I7PB\"};","import React, { ReactElement } from 'react';\nimport style from './messageBlock.module.css';\nimport SetClasses from '../../util/setClasses';\n\ninterface MessageBlockType\n\textends React.DetailedHTMLProps<\n\t\tReact.HTMLAttributes<HTMLDivElement>,\n\t\tHTMLDivElement\n\t> {\n\ttitle: string;\n\tchildren?: ReactElement;\n}\n\nexport default function MessageBlock({ title, children }: MessageBlockType) {\n\treturn (\n\t\t<div className={SetClasses(style.block, 'container')}>\n\t\t\t<h1 className={style.title}>{title}</h1>\n\t\t\t<div>{children}</div>\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"block\":\"filmCard_block__rJMlY\",\"poster\":\"filmCard_poster__10GFn\",\"rightBlock\":\"filmCard_rightBlock__oGSD+\",\"rightBlockTop\":\"filmCard_rightBlockTop__-rBz3\",\"text\":\"filmCard_text__HQ+1u\",\"title\":\"filmCard_title__QLw-b\",\"year\":\"filmCard_year__XFRzK\",\"logo\":\"filmCard_logo__e+uhB\",\"filmTable\":\"filmCard_filmTable__7e5J2\",\"label\":\"filmCard_label__75QTe\"};","import React, { useEffect, useState } from 'react';\nimport { useAppDispatch, useAppSelector } from '../../hooks/storeHooks';\nimport { addLikedFilm, removeFilmFromLiked } from '../../store/slices/Users';\nimport { kpFullFilmType } from '../../types/filmTypes';\nimport SetClasses from '../../util/setClasses';\nimport { LogoButton } from '../ul/LogoButton/LogoButton';\nimport style from './filmCard.module.css';\nimport { useNavigate } from 'react-router-dom';\nimport { navigPaths } from '../../navigationPaths';\nimport { GetIndexOfUserById } from '../../util/getIndexOfUserById';\n\ninterface FilmCardType\n\textends React.DetailedHTMLProps<\n\t\tReact.HTMLAttributes<HTMLUListElement>,\n\t\tHTMLUListElement\n\t> {\n\tdata: kpFullFilmType;\n}\n\nexport const FilmCard: React.FC<FilmCardType> = ({ data }) => {\n\tconst dispatch = useAppDispatch();\n\tconst [inLikedList, setInLikedList] = useState(false);\n\tconst currentUserId = useAppSelector((state) => state.users.currentUserId);\n\tconst usersList = useAppSelector((state) => state.users.usersList);\n\n\tconst navigate = useNavigate();\n\n\tconst likedFilmsIdList = useAppSelector((state) => {\n\t\tif (currentUserId !== null) {\n\t\t\tconst index = GetIndexOfUserById(usersList, currentUserId);\n\n\t\t\treturn state.users.usersList[index]?.likedFilmsId;\n\t\t}\n\t});\n\tuseEffect(() => {\n\t\tif (likedFilmsIdList) {\n\t\t\tif (likedFilmsIdList.includes(data.kinopoiskId)) {\n\t\t\t\tsetInLikedList(true);\n\t\t\t} else {\n\t\t\t\tsetInLikedList(false);\n\t\t\t}\n\t\t}\n\t}, [likedFilmsIdList]);\n\n\treturn (\n\t\t<div className={style.block}>\n\t\t\t<div className={style.leftBlock}>\n\t\t\t\t<img className={style.poster} src={data.posterUrl} alt={data.nameRu} />\n\t\t\t\t<div className={style.leftBottomBlock}></div>\n\t\t\t</div>\n\t\t\t<div className={style.rightBlock}>\n\t\t\t\t<div className={style.rightBlockTop}>\n\t\t\t\t\t<div className={style.text}>\n\t\t\t\t\t\t<h2 className={style.title}>\n\t\t\t\t\t\t\t{data.nameRu ? data.nameRu : data.nameOriginal} ({data.year})\n\t\t\t\t\t\t</h2>\n\n\t\t\t\t\t\t<p className={style.year}>\n\t\t\t\t\t\t\t{data.nameOriginal && data.nameRu ? data.nameOriginal + ',' : ''}\n\t\t\t\t\t\t\t{data.ratingAgeLimits\n\t\t\t\t\t\t\t\t? ` ${data.ratingAgeLimits.slice(3)}+`\n\t\t\t\t\t\t\t\t: data.ratingAgeLimits}\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<p className={style.rated}>\n\t\t\t\t\t\t\t{data.countries[0]?.country} • {data.genres[0]?.genre}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={style.buttons}>\n\t\t\t\t\t\t{!inLikedList ? (\n\t\t\t\t\t\t\t<LogoButton\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tif (currentUserId !== null) {\n\t\t\t\t\t\t\t\t\t\tdispatch(addLikedFilm({ film: data }));\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnavigate(navigPaths.login);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tДобавить в понравившиеся\n\t\t\t\t\t\t\t</LogoButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<LogoButton\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tdispatch(removeFilmFromLiked({ id: data.kinopoiskId }))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tУдалить из понравившихся\n\t\t\t\t\t\t\t</LogoButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<table className={style.filmTable}>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr className={style.tableRow}>\n\t\t\t\t\t\t\t<td className={SetClasses(style.label, style.top)}>\n\t\t\t\t\t\t\t\tПродолжительность:\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className={SetClasses(style.value, style.top)}>\n\t\t\t\t\t\t\t\t{data.filmLength} мин.\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr className={style.tableRow}>\n\t\t\t\t\t\t\t<td className={style.label}>Слоган:</td>\n\t\t\t\t\t\t\t<td className={style.value}>{data.slogan ? data.slogan : '-'}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr className={style.tableRow}>\n\t\t\t\t\t\t\t<td className={style.label}>Описание:</td>\n\t\t\t\t\t\t\t<td className={style.value}>{data.description}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr className={style.tableRow}>\n\t\t\t\t\t\t\t<td className={style.label}>Страна:</td>\n\t\t\t\t\t\t\t<td className={style.value}>\n\t\t\t\t\t\t\t\t{data.countries\n\t\t\t\t\t\t\t\t\t? data.countries.map((country) => country.country).join(', ')\n\t\t\t\t\t\t\t\t\t: '-'}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr className={style.tableRow}>\n\t\t\t\t\t\t\t<td className={style.label}>Жанр:</td>\n\t\t\t\t\t\t\t<td className={style.value}>\n\t\t\t\t\t\t\t\t{data.genres\n\t\t\t\t\t\t\t\t\t? data.genres.map((genre) => genre.genre).join(', ')\n\t\t\t\t\t\t\t\t\t: '-'}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr className={style.tableRow}>\n\t\t\t\t\t\t\t<td className={style.label}>Рейтинг Кинопоиска:</td>\n\t\t\t\t\t\t\t<td className={style.value}>{data.ratingKinopoisk || '-'}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr className={style.tableRow}>\n\t\t\t\t\t\t\t<td className={style.label}>Рейтинг IMDB:</td>\n\t\t\t\t\t\t\t<td className={style.value}>{data.ratingImdb || '-'}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr className={style.tableRow}>\n\t\t\t\t\t\t\t<td className={style.label}>Количество отзывов на Кинопоиске:</td>\n\t\t\t\t\t\t\t<td className={style.value}>{data.reviewsCount || '-'}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { useParams } from 'react-router-dom';\nimport { FilmCard } from '../../components/FilmICard/FilmICard';\nimport { useGetFilmByIdQuery } from '../../store/actions/fimlsApi';\nimport { ErrorBlock } from '../../components/ErrorBlock/ErrorBlock';\nimport { LoadingProcess } from '../../components/LoadingProcess/LoadingProcess';\nimport React, { useMemo } from 'react';\n\nexport default function FilmPage() {\n\tconst { id } = useParams();\n\tconst { data, isLoading, error } = useGetFilmByIdQuery(id);\n\tconst memoisedData = useMemo(() => data, [data]);\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"container\">\n\t\t\t\t{error ? (\n\t\t\t\t\t<ErrorBlock text={'Не удалось загрузить'} />\n\t\t\t\t) : isLoading ? (\n\t\t\t\t\t<LoadingProcess />\n\t\t\t\t) : memoisedData ? (\n\t\t\t\t\t<FilmCard data={memoisedData}></FilmCard>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":["ErrorBlock","_ref","text","_jsx","MessageBlock","className","style","title","children","_jsxs","LogoButton","onClick","window","location","reload","AiOutlineReload","SetClasses","block","FilmCard","_data$countries$","_data$genres$","data","dispatch","useAppDispatch","inLikedList","setInLikedList","useState","currentUserId","useAppSelector","state","users","usersList","navigate","useNavigate","likedFilmsIdList","_state$users$usersLis","index","GetIndexOfUserById","likedFilmsId","useEffect","includes","kinopoiskId","leftBlock","poster","src","posterUrl","alt","nameRu","leftBottomBlock","rightBlock","rightBlockTop","nameOriginal","year","ratingAgeLimits","concat","slice","rated","countries","country","genres","genre","buttons","removeFilmFromLiked","id","active","addLikedFilm","film","navigPaths","login","filmTable","tableRow","label","top","value","filmLength","slogan","description","map","join","ratingKinopoisk","ratingImdb","reviewsCount","FilmPage","useParams","isLoading","error","useGetFilmByIdQuery","memoisedData","useMemo","LoadingProcess"],"sourceRoot":""}